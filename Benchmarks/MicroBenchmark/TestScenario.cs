//------------------------------------------------------------------------------
// <auto-generated>
// Well, not really. This is just a trick to get StyleCop off my back.
// </auto-generated>
//------------------------------------------------------------------------------
using System;
using System.Collections.Generic;
using System.Threading;
using Microsoft.Coyote.Actors;

namespace MicroBenchmark;

public static class TestScenario
{
    public static void RunTest(IActorRuntime runtime, int numWorkers, int numExecutes)
    {
        var appMaster = runtime.CreateActor(typeof(AppMaster), new MasterSetupEvent(numWorkers));
        List<ActorId> workers = new List<ActorId>();

        for (int i = 0; i < numWorkers; i++)
        {
            var worker = runtime.CreateActor(typeof(Worker), new WorkerSetupEvent(appMaster, numExecutes));
            workers.Add(worker);
        }

        var terminator = runtime.CreateActor(typeof(Terminator), new TerminatorSetupEvent(appMaster));
        var client = runtime.CreateActor(typeof(Client), new ClientSetupEvent(appMaster, numWorkers));
    }
}
